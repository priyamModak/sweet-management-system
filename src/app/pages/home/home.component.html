
<div class="home-main-layout">
  <div style="flex: 3;">
    <div class="home-container">
      <h2>Sweet Shop - All Sweets</h2>
      <input
        type="text"
        [(ngModel)]="searchText"
        placeholder="Search by name or category..."
        style="width: 60%; margin: 12px 0 18px 0; padding: 8px 12px; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem;"
      />
      <div class="sweet-list">
        <div *ngFor="let sweet of filteredSweets" class="sweet-card">
          <!-- <img [src]="sweet.image" alt="{{ sweet.name }}" class="sweet-img" /> -->
          <h3>{{ sweet.name }}</h3>
          <p>Category: {{ sweet.category }}</p>
          <p class="sweet-price">Price: ₹{{ sweet.price }}</p>
          <button class="add-bill-btn" (click)="addToBill(sweet)">Add to Bill</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bill Summary Section (Full Right Side) -->
  <div style="flex: 1;">
    <div class="bill-summary-container">
      <h2 class="bill-summary-heading">
        <span class="bill-icon">&#128179;</span>
        Bill Summary
      </h2>
      <div *ngIf="bill.length === 0">No items in bill.</div>
      <div class="scrollbar">
        <table class="bill-table">
          <thead>
            <tr style="text-align:left;">
              <th>Name</th>
              <th>Price</th>
              <th>Qty</th>
              <th>Total</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of bill" class="bill-item-row">
              <td><strong>{{ item.name }}</strong></td>
              <td>₹{{ item.price }}</td>
              <td>
                <button (click)="decreaseQty(item)">-</button>
                <span style="margin:0 6px;">{{ item.quantity }}</span>
                <button (click)="increaseQty(item)">+</button>
              </td>
              <td>₹{{ item.price * item.quantity }}</td>
              <td>
                <button (click)="removeFromBill(item)" style="font-size:1.2em;line-height:1;color:#d32f2f;background:none;border:none;" title="Remove" aria-label="Remove">&#10005;</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="bill-summary-totals" style="margin-top:12px; margin-bottom:0;">
        <div style="display:flex; justify-content:space-between; font-size:0.95rem; margin-bottom:4px;">
          <span>Subtotal</span>
          <span>₹{{ billSubtotal }}</span>
        </div>
        <div style="display:flex; justify-content:space-between; font-size:0.95rem; margin-bottom:4px;">
          <span>Tax</span>
          <span>₹{{ billTax }}</span>
        </div>
        <div style="display:flex; justify-content:space-between; font-size:1.05rem; font-weight:bold; color:#388e3c; margin-bottom:8px;">
          <span>Total Amount</span>
          <span>₹{{ billTotal }}</span>
        </div>
        <button class="print-btn" (click)="printBill()">Print</button>
        <button class="clear-btn" (click)="clearBill()">Clear Bill</button>
      </div>
    </div>
  </div>
</div>
