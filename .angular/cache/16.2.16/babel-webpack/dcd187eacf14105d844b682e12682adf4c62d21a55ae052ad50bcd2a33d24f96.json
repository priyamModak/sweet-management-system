{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/sweet.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"available\": a0,\n    \"unavailable\": a1\n  };\n};\nfunction MasterComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"div\", 3)(9, \"label\", 4)(10, \"input\", 5);\n    i0.ɵɵlistener(\"change\", function MasterComponent_tr_17_Template_input_change_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const sweet_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleStatus(sweet_r1));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"span\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 7);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function MasterComponent_tr_17_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const sweet_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.editSweet(sweet_r1));\n    });\n    i0.ɵɵtext(16, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function MasterComponent_tr_17_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const sweet_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteSweet(sweet_r1));\n    });\n    i0.ɵɵtext(18, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const sweet_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(sweet_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(sweet_r1.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(sweet_r1.category);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"checked\", sweet_r1.available);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(6, _c0, sweet_r1.available, !sweet_r1.available));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", sweet_r1.available ? \"Available\" : \"Unavailable\", \" \");\n  }\n}\nexport let MasterComponent = /*#__PURE__*/(() => {\n  class MasterComponent {\n    constructor(sweetService, router) {\n      this.sweetService = sweetService;\n      this.router = router;\n      this.sweets = [];\n      this.newSweet = {\n        id: null,\n        name: '',\n        category: '',\n        price: 0,\n        unit: 'kg',\n        available: true\n      };\n      this.editMode = false;\n      this.editSweetId = null;\n      this.sweets = this.sweetService.getSweets();\n    }\n    addSweet() {\n      if (this.newSweet.name && this.newSweet.price > 0 && this.newSweet.category && this.newSweet.unit) {\n        if (this.editMode && this.editSweetId !== null) {\n          const idx = this.sweets.findIndex(s => s.id === this.editSweetId);\n          if (idx > -1) {\n            this.sweets[idx] = {\n              ...this.newSweet,\n              id: this.editSweetId\n            };\n          }\n          this.editMode = false;\n          this.editSweetId = null;\n        } else {\n          const newId = this.sweets.length ? Math.max(...this.sweets.map(s => s.id || 0)) + 1 : 1;\n          this.sweets.push({\n            ...this.newSweet,\n            id: newId\n          });\n        }\n        this.newSweet = {\n          id: null,\n          name: '',\n          category: '',\n          price: 0,\n          unit: 'kg',\n          available: true\n        };\n      }\n    }\n    toggleStatus(sweet) {\n      sweet.available = !sweet.available;\n    }\n    editSweet(sweet) {\n      this.sweetService.setEditSweet(sweet);\n      this.router.navigate(['/add']);\n    }\n    deleteSweet(sweet) {\n      this.sweets = this.sweets.filter(s => s.id !== sweet.id);\n      if (this.editSweetId === sweet.id) {\n        this.editMode = false;\n        this.editSweetId = null;\n        this.newSweet = {\n          id: null,\n          name: '',\n          category: '',\n          price: 0,\n          unit: 'kg',\n          available: true\n        };\n      }\n    }\n    static {\n      this.ɵfac = function MasterComponent_Factory(t) {\n        return new (t || MasterComponent)(i0.ɵɵdirectiveInject(i1.SweetService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MasterComponent,\n        selectors: [[\"app-master\"]],\n        decls: 18,\n        vars: 1,\n        consts: [[1, \"master-container\"], [1, \"inventory-table\"], [4, \"ngFor\", \"ngForOf\"], [2, \"display\", \"flex\", \"align-items\", \"center\", \"gap\", \"10px\"], [1, \"switch\"], [\"type\", \"checkbox\", 3, \"checked\", \"change\"], [1, \"slider\"], [1, \"status-text\", 3, \"ngClass\"], [1, \"action-btn\", \"edit\", 3, \"click\"], [1, \"action-btn\", \"delete\", 3, \"click\"]],\n        template: function MasterComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"Master List\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"table\", 1)(4, \"thead\")(5, \"tr\")(6, \"th\");\n            i0.ɵɵtext(7, \"Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"th\");\n            i0.ɵɵtext(9, \"Price\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"th\");\n            i0.ɵɵtext(11, \"Category\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"th\");\n            i0.ɵɵtext(13, \"Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"th\");\n            i0.ɵɵtext(15, \"Actions\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(16, \"tbody\");\n            i0.ɵɵtemplate(17, MasterComponent_tr_17_Template, 19, 9, \"tr\", 2);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(17);\n            i0.ɵɵproperty(\"ngForOf\", ctx.sweets);\n          }\n        },\n        dependencies: [i3.NgClass, i3.NgForOf],\n        styles: [\".status-text.available[_ngcontent-%COMP%]{background:#e8f5e9;color:#388e3c}.status-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-left:4px;padding:2px 10px;border-radius:8px;background:#ede7f6;color:#512da8;transition:background .2s,color .2s}.status-text.unavailable[_ngcontent-%COMP%]{background:#ffcdd2;color:#c62828}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:46px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:\\\"\\\";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%;box-shadow:0 2px 6px #673ab71a}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#673ab7}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.master-container[_ngcontent-%COMP%]{max-width:900px;margin:48px auto;padding:32px 24px;background:linear-gradient(120deg,#e3eeff 0%,#f3e7e9 100%);border-radius:16px;box-shadow:0 4px 24px #673ab71a;border:1px solid #e0e0e0}.master-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;color:#512da8;font-size:2rem;font-weight:700}.inventory-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 12px #673ab712}.inventory-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .inventory-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 12px;text-align:left;border-bottom:1px solid #e0e0e0}.inventory-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ede7f6;color:#512da8;font-weight:600}.inventory-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.inventory-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f3e7e9}.action-btn[_ngcontent-%COMP%]{padding:6px 16px;margin-right:6px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background .2s,color .2s,box-shadow .2s;box-shadow:0 2px 8px #673ab714}.action-btn.edit[_ngcontent-%COMP%]{background:#fffde7;color:#fbc02d;border:1px solid #fbc02d}.action-btn.edit[_ngcontent-%COMP%]:hover{background:#fff9c4;color:#fff;border:1px solid #fbc02d;box-shadow:0 4px 12px #fbc02d2e}.action-btn.delete[_ngcontent-%COMP%]{background:#ffebee;color:#d32f2f;border:1px solid #d32f2f}.action-btn.delete[_ngcontent-%COMP%]:hover{background:#ffcdd2;color:#fff;border:1px solid #d32f2f;box-shadow:0 4px 12px #d32f2f2e}.action-btn[_ngcontent-%COMP%]:last-child{margin-right:0}.status-toggle[_ngcontent-%COMP%]{accent-color:#673ab7}\"]\n      });\n    }\n  }\n  return MasterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}